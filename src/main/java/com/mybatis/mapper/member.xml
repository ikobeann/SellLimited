<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper     PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mybatis.mapper.MemberMapper">

	<select id="memberList" parameterType="map" resultType="java.util.Map"> 
	SELECT mem_id,mem_pw,mem_name,mem_address
	FROM member
	where mem_id=#{mem_id}  
	</select>
	
<!-- 	<insert id="memberIns" parameterType="map">
		INSERT INTO MEMBER
			(mem_id,mem_name,mem_bdate,mem_gender,mem_jdate
			,mem_email,mem_address,mem_nickname,mem_pw,mem_ph) 
		VALUES 
			(#{mem_id,mode=IN,javatype=String}, #{mem_name}, #{mem_bdate}, #{mem_gender}, #{mem_jdate}
			,#{mem_email}, #{mem_address}, #{mem_nickname}, #{mem_pw}, #{mem_ph})
	</insert>
	 -->
	<insert id="memberIns" parameterType="map">
		INSERT INTO MEMBER
			(mem_id
			,mem_pw,mem_ph) 
		VALUES 
			(#{mem_id}, 
			 #{mem_pw}, #{mem_ph})
	</insert>
	
	<update id="memberUpd" parameterType="map">
		UPDATE MEMBER
		SET mem_email=#{mem_email}
		   ,mem_address=#{mem_address}
		   ,mem_nickname=#{mem_nickname}
		   ,mem_ph=#{mem_ph}
		   ,mem_pw=#{mem_pw}
		WHERE mem_id=#{mem_id}
	</update>
	
	<select id="login" parameterType="map" statementType="CALLABLE">
		{call proc_login(#{mem_id, mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
						,#{mem_pw, mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
						,#{mem_name, mode=OUT, jdbcType=VARCHAR, javaType=java.lang.String}
						,#{r_status, mode=OUT, jdbcType=VARCHAR, javaType=java.lang.String}
						)}
	</select> 
	
	<delete id="memberDel" parameterType="map">
		DELETE FROM member 
			WHERE mem_id=#{mem_id} and mem_pw=#{mem_pw}
	</delete>
	
</mapper> 

