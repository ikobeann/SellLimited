<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper     PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mybatis.mapper.ProductMapper">
	<select id="productList" parameterType="map" resultType="map">
		SELECT * from MEMBER
		WHERE mem_id = #{mem_id}
		
	</select>
	
	<select id="productIns" parameterType="map" statementType="CALLABLE">
      {call proc_AddProd(
      			   #{mem_id, mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
                  ,#{brand , mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
                  ,#{product_name , mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
                  ,#{status , mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
                  ,#{admin_ok , mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
                  ,#{warranty , mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
                  ,#{sub_category , mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
                  ,#{modelname, mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
                  ,#{explanation, mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
                  ,#{attached_file, mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
                  ,#{bid_title, mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
                  ,#{bid_state, mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
                  ,#{start_price, mode=IN, jdbcType=VARCHAR, javaType=java.lang.String}
                  ,#{result, mode=OUT, jdbcType=VARCHAR, javaType=java.lang.String}
      )}
   </select>
   
   <update id="productUpd">
   	UPDATE SALE_ITEM 
   	SET brand		 = #{brand}
   		product_name = #{product_name}
   	   ,status		 = #{status}
   	   ,admin_ok	 = #{admin_ok}
   	   ,sub_category = #{sub_category}
   	   ,modelname 	 = #{modelname}
   	   ,explanation	 = #{explanation}
   	   ,attached_file= #{attached_file}
   		WHERE mem_id = #{mem_id}
   </update>
   
   <delete id="productDell">
   	DELETE auct_progress WHERE seller = #{mem_id}
   	DELETE auction_info  WHERE seller = #{mem_id}
   	DELETE sale_item WHERE mem_id = #{mem_id}
   </delete>

</mapper>
